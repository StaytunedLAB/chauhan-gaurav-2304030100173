import fetch from "node-fetch";

const GITHUB_TOKEN = "YOUR_GITHUB_TOKEN"; // <-- replace
const OWNER = "YOUR_GITHUB_USERNAME";
const REPO = "YOUR_REPOSITORY_NAME";

async function createIssue() {
  const url = `https://api.github.com/repos/${OWNER}/${REPO}/issues`;

  const response = await fetch(url, {
    method: "POST",
    headers: {
      "Authorization": `Bearer ${GITHUB_TOKEN}`,
      "Accept": "application/vnd.github+json",
      "Content-Type": "application/json"
    },
    body: JSON.stringify({
      title: "Test Issue from JavaScript",
      body: "This issue was created using the GitHub REST API ðŸš€",
      labels: ["bug", "api"]
    })
  });

  const data = await response.json();

  if (!response.ok) {
    console.error("Error creating issue:", data);
    return;
  }

  console.log("Issue created successfully!");
  console.log("Issue URL:", data.html_url);
}

createIssue();
